{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jason\\\\Documents\\\\GitHub\\\\wad-api-labs-2022\\\\movies-app\\\\src\\\\pages\\\\popularMoviesPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PageTemplate from \"../components/MovieComponents/templateMovieListPage\";\nimport { getPopularMovies } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport AddToFavouritesIcon from '../components/cardIcons/addToFavourites';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar PopularMovies = function PopularMovies(props) {\n  _s();\n\n  var _useQuery = useQuery('popularMovies', getPopularMovies),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, _this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, _this);\n  }\n\n  var movies = data.results;\n  var popular = movies.filter(function (m) {\n    return m.favourite;\n  });\n  localStorage.setItem('popular', JSON.stringify(popular));\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Popular Movies\",\n    movies: movies,\n    action: function action(movie) {\n      return /*#__PURE__*/_jsxDEV(AddToFavouritesIcon, {\n        movie: movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 24\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(PopularMovies, \"tLVl4bLXOK0wdfcIQIhOB1GmFVs=\", false, function () {\n  return [useQuery];\n});\n\n_c = PopularMovies;\nexport default PopularMovies;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopularMovies\");","map":{"version":3,"names":["React","PageTemplate","getPopularMovies","useQuery","Spinner","AddToFavouritesIcon","PopularMovies","props","data","error","isLoading","isError","message","movies","results","popular","filter","m","favourite","localStorage","setItem","JSON","stringify","movie"],"sources":["C:/Users/Jason/Documents/GitHub/wad-api-labs-2022/movies-app/src/pages/popularMoviesPage.js"],"sourcesContent":["import React from \"react\";\nimport PageTemplate from \"../components/MovieComponents/templateMovieListPage\";\nimport { getPopularMovies } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport AddToFavouritesIcon from '../components/cardIcons/addToFavourites'\n\nconst PopularMovies = (props) => {\n\n    const { data, error, isLoading, isError } = useQuery('popularMovies', getPopularMovies)\n\n    if (isLoading) {\n        return <Spinner />\n    }\n\n    if (isError) {\n        return <h1>{error.message}</h1>\n    }\n    const movies = data.results;\n\n    const popular = movies.filter(m => m.favourite)\n    localStorage.setItem('popular', JSON.stringify(popular))\n\n    return (\n        <PageTemplate\n            title=\"Popular Movies\"\n            movies={movies}\n            action={(movie) => {\n                return <AddToFavouritesIcon movie={movie} />\n            }}\n        />\n    );\n};\nexport default PopularMovies;"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qDAAzB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,mBAAP,MAAgC,yCAAhC;;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;EAAA;;EAE7B,gBAA4CJ,QAAQ,CAAC,eAAD,EAAkBD,gBAAlB,CAApD;EAAA,IAAQM,IAAR,aAAQA,IAAR;EAAA,IAAcC,KAAd,aAAcA,KAAd;EAAA,IAAqBC,SAArB,aAAqBA,SAArB;EAAA,IAAgCC,OAAhC,aAAgCA,OAAhC;;EAEA,IAAID,SAAJ,EAAe;IACX,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,SAAP;EACH;;EAED,IAAIC,OAAJ,EAAa;IACT,oBAAO;MAAA,UAAKF,KAAK,CAACG;IAAX;MAAA;MAAA;MAAA;IAAA,SAAP;EACH;;EACD,IAAMC,MAAM,GAAGL,IAAI,CAACM,OAApB;EAEA,IAAMC,OAAO,GAAGF,MAAM,CAACG,MAAP,CAAc,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,SAAN;EAAA,CAAf,CAAhB;EACAC,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAAhC;EAEA,oBACI,QAAC,YAAD;IACI,KAAK,EAAC,gBADV;IAEI,MAAM,EAAEF,MAFZ;IAGI,MAAM,EAAE,gBAACU,KAAD,EAAW;MACf,oBAAO,QAAC,mBAAD;QAAqB,KAAK,EAAEA;MAA5B;QAAA;QAAA;QAAA;MAAA,SAAP;IACH;EALL;IAAA;IAAA;IAAA;EAAA,SADJ;AASH,CAzBD;;GAAMjB,a;UAE0CH,Q;;;KAF1CG,a;AA0BN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}