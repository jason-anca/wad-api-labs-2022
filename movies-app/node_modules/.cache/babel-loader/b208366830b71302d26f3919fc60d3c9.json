{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jason\\\\Documents\\\\GitHub\\\\wad-api-labs-2022\\\\movies-app\\\\src\\\\pages\\\\popularTVShowsPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PageTemplate from \"../components/TVComponents/templateTVListPage\";\nimport { getPopularTVShows } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport AddToFavouritesIconTV from '../components/cardIcons/addToFavouritesIconTV';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar PopularTVShows = function PopularTVShows(props) {\n  _s();\n\n  var _useQuery = useQuery('popularTV', getPopularTVShows),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 16\n    }, _this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 16\n    }, _this);\n  }\n\n  var tv = data.results;\n  var favourites = tv.filter(function (m) {\n    return m.favourite;\n  });\n  localStorage.setItem('favourites', JSON.stringify(favourites));\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Popular TV Shows\",\n    TVs: tv,\n    action: function action(tvshows) {\n      return /*#__PURE__*/_jsxDEV(AddToFavouritesIconTV, {\n        tv: tvshows\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 24\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(PopularTVShows, \"tLVl4bLXOK0wdfcIQIhOB1GmFVs=\", false, function () {\n  return [useQuery];\n});\n\n_c = PopularTVShows;\nexport default PopularTVShows;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopularTVShows\");","map":{"version":3,"names":["React","PageTemplate","getPopularTVShows","useQuery","Spinner","AddToFavouritesIconTV","PopularTVShows","props","data","error","isLoading","isError","message","tv","results","favourites","filter","m","favourite","localStorage","setItem","JSON","stringify","tvshows"],"sources":["C:/Users/Jason/Documents/GitHub/wad-api-labs-2022/movies-app/src/pages/popularTVShowsPage.js"],"sourcesContent":["import React from \"react\";\nimport PageTemplate from \"../components/TVComponents/templateTVListPage\";\nimport { getPopularTVShows } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport AddToFavouritesIconTV from '../components/cardIcons/addToFavouritesIconTV'\n\n\nconst PopularTVShows = (props) => {\n\n    const { data, error, isLoading, isError } = useQuery('popularTV', getPopularTVShows)\n\n    if (isLoading) {\n        return <Spinner />\n    }\n\n    if (isError) {\n        return <h1>{error.message}</h1>\n    }\n    const tv = data.results;\n\n    const favourites = tv.filter(m => m.favourite)\n    localStorage.setItem('favourites', JSON.stringify(favourites))\n\n    return (\n        <PageTemplate\n            title=\"Popular TV Shows\"\n            TVs={tv}\n            action={(tvshows) => {\n                return <AddToFavouritesIconTV tv={tvshows} />\n            }}\n        />\n    );\n};\nexport default PopularTVShows;"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,+CAAzB;AACA,SAASC,iBAAT,QAAkC,iBAAlC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,qBAAP,MAAkC,+CAAlC;;;AAGA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;EAAA;;EAE9B,gBAA4CJ,QAAQ,CAAC,WAAD,EAAcD,iBAAd,CAApD;EAAA,IAAQM,IAAR,aAAQA,IAAR;EAAA,IAAcC,KAAd,aAAcA,KAAd;EAAA,IAAqBC,SAArB,aAAqBA,SAArB;EAAA,IAAgCC,OAAhC,aAAgCA,OAAhC;;EAEA,IAAID,SAAJ,EAAe;IACX,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,SAAP;EACH;;EAED,IAAIC,OAAJ,EAAa;IACT,oBAAO;MAAA,UAAKF,KAAK,CAACG;IAAX;MAAA;MAAA;MAAA;IAAA,SAAP;EACH;;EACD,IAAMC,EAAE,GAAGL,IAAI,CAACM,OAAhB;EAEA,IAAMC,UAAU,GAAGF,EAAE,CAACG,MAAH,CAAU,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,SAAN;EAAA,CAAX,CAAnB;EACAC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeP,UAAf,CAAnC;EAEA,oBACI,QAAC,YAAD;IACI,KAAK,EAAC,kBADV;IAEI,GAAG,EAAEF,EAFT;IAGI,MAAM,EAAE,gBAACU,OAAD,EAAa;MACjB,oBAAO,QAAC,qBAAD;QAAuB,EAAE,EAAEA;MAA3B;QAAA;QAAA;QAAA;MAAA,SAAP;IACH;EALL;IAAA;IAAA;IAAA;EAAA,SADJ;AASH,CAzBD;;GAAMjB,c;UAE0CH,Q;;;KAF1CG,c;AA0BN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}