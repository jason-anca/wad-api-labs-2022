{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jason\\\\Documents\\\\GitHub\\\\wad-api-labs-2022\\\\movies-app\\\\src\\\\pages\\\\favouriteShowsPage.js\",\n    _this = this;\n\nimport React, { useContext } from \"react\";\nimport PageTemplate from \"../components/TVComponents/templateTVListPage\";\nimport { TVContext } from \"../contexts/tvContext\";\nimport { useQueries } from \"react-query\";\nimport { getTV } from \"../api/tmdb-api\";\nimport Spinner from '../components/spinner';\nimport RemoveFromFavourites from \"../components/cardIcons/removeFromFavouritesTV\";\nimport WriteReviewTV from \"../components/cardIcons/writeReviewTV\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar FavouriteTVPage = function FavouriteTVPage() {\n  var _useContext = useContext(TVContext),\n      ids = _useContext.favourites;\n\n  var favouriteTVQueries = useQueries(ids.map(function (Id) {\n    return {\n      queryKey: [\"tv\", {\n        id: Id\n      }],\n      queryFn: getTV\n    };\n  })); // Check if any of the parallel queries is still loading.\n\n  var isLoading = favouriteTVQueries.find(function (m) {\n    return m.isLoading === true;\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, _this);\n  }\n\n  var tv = favouriteTVQueries.map(function (q) {\n    q.data.genre_ids = q.data.genres.map(function (g) {\n      return g.id;\n    });\n    return q.data;\n  });\n\n  var toDo = function toDo() {\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Favourite TV Shows\",\n    TVs: tv,\n    action: function action(tv) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RemoveFromFavourites, {\n          tv: tv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(WriteReviewTV, {\n          tv: tv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, _this);\n};\n\nexport default FavouriteTVPage;","map":{"version":3,"names":["React","useContext","PageTemplate","TVContext","useQueries","getTV","Spinner","RemoveFromFavourites","WriteReviewTV","FavouriteTVPage","ids","favourites","favouriteTVQueries","map","Id","queryKey","id","queryFn","isLoading","find","m","tv","q","data","genre_ids","genres","g","toDo"],"sources":["C:/Users/Jason/Documents/GitHub/wad-api-labs-2022/movies-app/src/pages/favouriteShowsPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport PageTemplate from \"../components/TVComponents/templateTVListPage\";\nimport { TVContext } from \"../contexts/tvContext\";\nimport { useQueries } from \"react-query\";\nimport { getTV } from \"../api/tmdb-api\";\nimport Spinner from '../components/spinner';\nimport RemoveFromFavourites from \"../components/cardIcons/removeFromFavouritesTV\";\nimport WriteReviewTV from \"../components/cardIcons/writeReviewTV\";\n\nconst FavouriteTVPage = () => {\n  const {favourites: ids } = useContext(TVContext);\n\n  const favouriteTVQueries = useQueries(\n    ids.map((Id) => {\n      return {\n        queryKey: [\"tv\", { id: Id }],\n        queryFn: getTV,\n      };\n    })\n  );\n  // Check if any of the parallel queries is still loading.\n  const isLoading = favouriteTVQueries.find((m) => m.isLoading === true);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  const tv = favouriteTVQueries.map((q) => {\n    q.data.genre_ids = q.data.genres.map(g => g.id)\n    return q.data\n  });\n  const toDo = () => true;\n\n  return (\n    <PageTemplate\n      title=\"Favourite TV Shows\"\n      TVs={tv}\n      action={(tv) => {\n        return (\n          <>\n            <RemoveFromFavourites tv={tv} />         \n            <WriteReviewTV tv={tv} /> \n          </>\n        );\n      }}\n    />\n  );\n};\n\nexport default FavouriteTVPage;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,YAAP,MAAyB,+CAAzB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,oBAAP,MAAiC,gDAAjC;AACA,OAAOC,aAAP,MAA0B,uCAA1B;;;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAC5B,kBAA2BR,UAAU,CAACE,SAAD,CAArC;EAAA,IAAmBO,GAAnB,eAAOC,UAAP;;EAEA,IAAMC,kBAAkB,GAAGR,UAAU,CACnCM,GAAG,CAACG,GAAJ,CAAQ,UAACC,EAAD,EAAQ;IACd,OAAO;MACLC,QAAQ,EAAE,CAAC,IAAD,EAAO;QAAEC,EAAE,EAAEF;MAAN,CAAP,CADL;MAELG,OAAO,EAAEZ;IAFJ,CAAP;EAID,CALD,CADmC,CAArC,CAH4B,CAW5B;;EACA,IAAMa,SAAS,GAAGN,kBAAkB,CAACO,IAAnB,CAAwB,UAACC,CAAD;IAAA,OAAOA,CAAC,CAACF,SAAF,KAAgB,IAAvB;EAAA,CAAxB,CAAlB;;EAEA,IAAIA,SAAJ,EAAe;IACb,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,SAAP;EACD;;EAED,IAAMG,EAAE,GAAGT,kBAAkB,CAACC,GAAnB,CAAuB,UAACS,CAAD,EAAO;IACvCA,CAAC,CAACC,IAAF,CAAOC,SAAP,GAAmBF,CAAC,CAACC,IAAF,CAAOE,MAAP,CAAcZ,GAAd,CAAkB,UAAAa,CAAC;MAAA,OAAIA,CAAC,CAACV,EAAN;IAAA,CAAnB,CAAnB;IACA,OAAOM,CAAC,CAACC,IAAT;EACD,CAHU,CAAX;;EAIA,IAAMI,IAAI,GAAG,SAAPA,IAAO;IAAA,OAAM,IAAN;EAAA,CAAb;;EAEA,oBACE,QAAC,YAAD;IACE,KAAK,EAAC,oBADR;IAEE,GAAG,EAAEN,EAFP;IAGE,MAAM,EAAE,gBAACA,EAAD,EAAQ;MACd,oBACE;QAAA,wBACE,QAAC,oBAAD;UAAsB,EAAE,EAAEA;QAA1B;UAAA;UAAA;UAAA;QAAA,SADF,eAEE,QAAC,aAAD;UAAe,EAAE,EAAEA;QAAnB;UAAA;UAAA;UAAA;QAAA,SAFF;MAAA,gBADF;IAMD;EAVH;IAAA;IAAA;IAAA;EAAA,SADF;AAcD,CAtCD;;AAwCA,eAAeZ,eAAf"},"metadata":{},"sourceType":"module"}